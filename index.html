<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Rellena tu PDF y desc√°rgalo. Nada m√°s. Sin registro, 100% privado y offline.">
    <title>RellenaPDF - Simple, Privado, R√°pido</title>

    <!-- Google Fonts: Roboto, Caveat, Patrick Hand, Dancing Script -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Caveat:wght@400;700&family=Dancing+Script:wght@700&family=Patrick+Hand&family=Roboto:wght@400;500;700&display=swap"
        rel="stylesheet">

    <!-- CSS -->
    <link rel="stylesheet" href="styles.css">

    <!-- Icons & PWA -->
    <link rel="icon" type="image/png" href="Logo-app.png">
    <link rel="apple-touch-icon" href="Logo-app.png">
    <link rel="manifest" href="manifest.json">

    <!-- Libraries (CDN for MVP) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
    <script src="https://unpkg.com/pdf-lib/dist/pdf-lib.min.js"></script>
</head>

<body>

    <header class="app-header">
        <div class="logo-container">
            <img src="Logo-app.png" alt="RellenaPDF Logo" class="app-logo">
            <span class="logo-text">RellenaPDF</span>
        </div>

        <div class="header-actions">
            <button id="pwa-install-btn" class="btn-secondary hidden"
                style="font-size: 0.85rem; padding: 0.4rem 0.8rem;">
                üì≤ Instalar App
            </button>
            <p class="subtitle">Sube, escribe, descarga. Listo.</p>
        </div>
    </header>

    <main class="app-container">
        <!-- Upload View -->
        <section id="upload-view" class="view active">
            <div class="upload-zone" id="drop-zone">
                <div class="icon">üìÑ</div>
                <h1>Sube tu PDF</h1>
                <p>Arrastra tu archivo aqu√≠ o haz clic para buscar</p>
                <button class="btn-primary" id="upload-btn">Seleccionar PDF</button>
                <input type="file" id="file-input" accept="application/pdf" hidden>
            </div>
        </section>

        <!-- Editor View -->
        <section id="editor-view" class="view hidden">
            <div id="pdf-container" class="pdf-wrapper">
                <!-- Canvases will be injected here -->
            </div>
        </section>
    </main>

    <footer class="app-footer">
        <p>
            Hecho con <span class="heart">‚ù§Ô∏è</span> para emprendedores por
            <a href="https://github.com/DonGeeo87" target="_blank" rel="noopener">@DonGeeo87</a>
        </p>
    </footer>

    <!-- Toast Notification -->
    <div id="toast" class="toast hidden">
        Haz clic en cualquier lugar para escribir ‚úçÔ∏è
    </div>

    <!-- Floating Actions (Editor Mode) -->
    <div id="editor-controls" class="floating-controls hidden">
        <div class="tool-group">
            <button class="btn-color active" data-color="#000000" data-font="roboto" style="background-color: #000000;"
                aria-label="Negro (Est√°ndar)" title="Bol√≠grafo Est√°ndar"></button>
            <button class="btn-color" data-color="#2563eb" data-font="caveat" style="background-color: #2563eb;"
                aria-label="Azul (Notas)" title="Notas a Mano"></button>
            <button class="btn-color" data-color="#dc2626" data-font="patrick" style="background-color: #dc2626;"
                aria-label="Rojo (Correcci√≥n)" title="Marcador Correcci√≥n"></button>
            <div class="separator"></div>
            <button class="btn-tool" id="btn-signature" data-font="signature" aria-label="Firma"
                title="Firma Manuscrita">üñãÔ∏è</button>
        </div>
        <div class="separator"></div>
        <div class="file-info" id="file-name">documento.pdf</div>
        <button class="btn-action" id="download-btn">Descargar PDF</button>
        <button class="btn-secondary" id="reset-btn">Nuevo</button>
    </div>

    <!-- Scripts -->
    <script src="app.js"></script>
    <script>
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('./sw.js')
                .then(() => console.log('Service Worker registrado'))
                .catch(err => console.error('Error SW:', err));
        }
    </script>
</body>

</html>